# --- Базовые команды и проверка связи ---
help

# --- Тестирование 'add node' ---
add node faculty
add node faculty/science
add node faculty/arts
add node faculty/science/math
add node faculty/science/physics
add node faculty/arts/history
add node faculty/science/chemistry
add node faculty/science/math/applied_math/group1
# Ошибки 'add node'
add node
# -> Ожидается: Usage: add node <path>
add node ""
# -> Ожидается: Error: Cannot create node with empty path.

# --- Тестирование 'add_subject' ---
add_subject CS101 'Introduction to Programming'
add_subject MATH202 'Linear Algebra and Analytical Geometry'
add_subject PHYS101 'General Physics I'
add_subject HIST100 'World History Overview'
# Повторное добавление предмета с тем же ID
add_subject CS101 'Intro to CS'
# -> Ожидается: Error: Subject with ID 'CS101' already exists.
# Ошибки 'add_subject'
add_subject EMPTY_NAME ''
# -> Ожидается: Error: Subject name cannot be empty.
add_subject
# -> Ожидается: Usage: add_subject <id> "<subject_name>"
add_subject ID_ONLY
# -> Ожидается: Usage: add_subject <id> "<subject_name>"

# --- Тестирование 'list_subjects' ---
list_subjects
# -> Ожидается: Вывод таблицы с ID и именами добавленных предметов

# --- Тестирование 'add employee' ---
add employee faculty/science/math 'Ivanov I.I.' lectures:40 seminars:60 project:20
add employee faculty/science/physics 'Sidorov S.S.' lectures:30 research:100
add employee faculty/arts/history 'Smirnova A.A.' lectures:60 archive:50
add employee faculty/science/chemistry 'Zotov Z.Z.'

# --- Тестирование 'assign_subject_to_employee' ---
# Успешное назначение
assign_subject_to_employee faculty/science/math 'Ivanov I.I.' CS101
assign_subject_to_employee faculty/science/math 'Ivanov I.I.' MATH202
assign_subject_to_employee faculty/science/physics 'Sidorov S.S.' PHYS101
# Повторное назначение того же предмета
assign_subject_to_employee faculty/science/math 'Ivanov I.I.' CS101
# -> Ожидается: Info: Subject 'CS101' is already assigned...
# Ошибки 'assign_subject_to_employee'
assign_subject_to_employee faculty/science/math 'NonExistentEmp' CS101
# -> Ожидается: Error: Employee 'NonExistentEmp' not found...
assign_subject_to_employee faculty/science/math 'Ivanov I.I.' NON_EXISTENT_SUBJ
# -> Ожидается: Error: Subject with ID 'NON_EXISTENT_SUBJ' not found...
assign_subject_to_employee
# -> Ожидается: Usage: assign_subject_to_employee <employee_path> '<employee_name>' <subject_id>

# --- Тестирование 'add_schedule' ---
# Успешное добавление в расписание
add_schedule faculty/science/math 'Ivanov I.I.' CS101 лекция Monday '09:00-10:30' 'Room A1'
add_schedule faculty/science/math 'Ivanov I.I.' CS101 семинар Monday '10:45-12:15' 'Room A2'
add_schedule faculty/science/math 'Ivanov I.I.' MATH202 лекция Tuesday '14:00-15:30' 'BigHall'
add_schedule faculty/science/physics 'Sidorov S.S.' PHYS101 лаба Wednesday '10:00-13:00' # Без аудитории
# Попытка добавить занятие в то же время (конфликт)
add_schedule faculty/science/math 'Ivanov I.I.' MATH202 проект Monday '09:00-10:30' 'Room B1'
# -> Ожидается: Error: Time slot conflict for employee 'Ivanov I.I.' on Monday at 09:00-10:30...
# Ошибки 'add_schedule'
add_schedule faculty/science/math 'Ivanov I.I.' NON_EXISTENT_SUBJ лекция Friday '10:00-11:30'
# -> Ожидается: Error: Subject with ID 'NON_EXISTENT_SUBJ' not found...
add_schedule faculty/science/math 'Ivanov I.I.' CS101 лекция InvalidDay '10:00-11:30'
# -> Ожидается: Error: Invalid day of week 'InvalidDay'...
add_schedule faculty/science/math 'Ivanov I.I.' CS101 лекция Monday '' # Пустой time_slot
# -> Ожидается: Error: Invalid time slot ''.
add_schedule faculty/non_existent_path 'Ivanov I.I.' CS101 лекция Monday '10:00-11:30'
# -> Ожидается: Error: Employee 'Ivanov I.I.' not found at path 'faculty/non_existent_path'.
add_schedule
# -> Ожидается: Usage: add_schedule <employee_path> '<employee_name>' ...

# --- Тестирование 'view_schedule' ---
view_schedule faculty/science/math 'Ivanov I.I.'
# -> Ожидается: Вывод расписания Иванова
view_schedule faculty/science/chemistry 'Zotov Z.Z.'
# -> Ожидается: No schedule found for employee 'Zotov Z.Z.'.
# Ошибки 'view_schedule'
view_schedule faculty/science/math 'NonExistentEmp'
# -> Ожидается: Error: Employee 'NonExistentEmp' not found...
view_schedule
# -> Ожидается: Usage: view_schedule <employee_path> '<employee_name>'

# --- Тестирование 'query' (остается актуальным, но можно добавить проверку новых сотрудников) ---
query columns name lectures seminars project research archive coursework where faculty row_sum
# Запрос к узлу без сотрудников
add node faculty/empty_query_dept
query columns name lectures where faculty/empty_query_dept
# -> Ожидается: No employees found under path: 'faculty/empty_query_dept'

# --- Тестирование 'save' (теперь сохраняет и предметы, и расписание) ---
save extended_db.txt
# -> Ожидается: Database saved to 'extended_db.txt'
# Проверить содержимое файла extended_db.txt вручную на наличие:
# subject CS101 'Introduction to Programming'
# ...
# employee faculty/science/math 'Ivanov I.I.' lectures:40 seminars:60 project:20
# emp_subject faculty/science/math 'Ivanov I.I.' CS101
# emp_subject faculty/science/math 'Ivanov I.I.' MATH202
# emp_schedule faculty/science/math 'Ivanov I.I.' CS101 лекция Monday '09:00-10:30' 'Room A1'
# ...

# --- Тестирование 'load' (теперь загружает и предметы, и расписание) ---
# "Очистка" БД (предполагая, что load несуществующего файла очищает)
load _temp_empty_to_clear_db_extended.txt
# Проверка, что база пуста (или почти пуста)
list_subjects
# -> Ожидается: No subjects in catalog.
query columns name lectures where faculty/science/math
# -> Ожидается: No employees found... (или ошибка, если узел faculty/science/math тоже удалился)
view_schedule faculty/science/math 'Ivanov I.I.'
# -> Ожидается: Error: Employee 'Ivanov I.I.' not found...

# Загрузка сохраненных данных
load extended_db.txt
# -> Ожидается: Database loaded from 'extended_db.txt'
# Проверка загруженных данных
list_subjects
# -> Ожидается: Вывод всех ранее сохраненных предметов
query columns name lectures seminars project where faculty/science/math
# -> Ожидается: Вывод Иванова с его нагрузкой
view_schedule faculty/science/math 'Ivanov I.I.'
# -> Ожидается: Вывод расписания Иванова, как было сохранено

# --- Тестирование неизвестных команд и пустого ввода (остается актуальным) ---
yet_another_unknown_command
# -> Ожидается: Unknown command: 'yet_another_unknown_command'.
# (пустая строка - нажать Enter)
# -> Ожидается: (ничего, новое приглашение)